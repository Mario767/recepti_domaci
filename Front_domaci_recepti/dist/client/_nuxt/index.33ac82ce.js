import{_ as g,n as d,c as p,a as e,t as l,b as t,w as _,v as k,q as v,o as u,p as f,e as x}from"./entry.d256b9ad.js";import{a as m}from"./accountStore.3470eac0.js";import{a as I}from"./axios.4d564c32.js";const T={data(){return{korisnicko_ime:"",email:"",isLoggedIn:!1}},async created(){this.isLoggedIn=m.getters.isLoggedIn(),this.isLoggedIn&&(this.korisnicko_ime=document.cookie.replace(/(?:(?:^|.*;\s*)username\s*=\s*([^;]*).*$)|^.*$/,"$1"),this.email=document.cookie.replace(/(?:(?:^|.*;\s*)email\s*=\s*([^;]*).*$)|^.*$/,"$1"))},methods:{async odjavi(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)authToken\s*=\s*([^;]*).*$)|^.*$/,"$1");m.getters.isLoggedIn()&&I.post("http://localhost:8000/api/odjavi",{},{headers:{Authorization:`Bearer ${o}`}}).then(()=>{document.cookie="authToken=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",document.cookie="username=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",document.cookie="email=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",window.location.href="/login"}).catch(s=>{console.error(s)})}}},n=o=>(f("data-v-33c1310a"),o=o(),x(),o),$={id:"app"},b={key:0,class:"container"},j=n(()=>e("h1",{class:"title"},"Domaći recepti",-1)),w={class:"button-row"},y=n(()=>e("button",{class:"button"},"Dodaj recept",-1)),L=n(()=>e("button",{class:"button"},"Prikaži recepte",-1)),S={class:"logout-row"};function B(o,s,C,M,i,c){const a=d("v-spacer"),r=d("router-link");return u(),p("div",$,[i.isLoggedIn?(u(),p("div",b,[j,e("p",null,"Ime: "+l(i.korisnicko_ime),1),e("p",null,"Email: "+l(i.email),1),e("div",w,[t(a),t(r,{style:{"margin-right":"10px"},to:"/dodajrecept"},{default:_(()=>[y]),_:1}),t(a),t(r,{style:{"margin-right":"10px"},to:"/mojirecepti"},{default:_(()=>[L]),_:1}),t(a)]),e("div",S,[e("button",{class:"logout-button",onClick:s[0]||(s[0]=k((...h)=>c.odjavi&&c.odjavi(...h),["prevent"]))},"Odjavi se")])])):v("",!0)])}const N=g(T,[["render",B],["__scopeId","data-v-33c1310a"]]);export{N as default};
