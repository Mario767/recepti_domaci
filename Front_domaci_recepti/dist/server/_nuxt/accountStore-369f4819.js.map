{"version":3,"file":"accountStore-369f4819.js","sources":["../../../../composables/accountStore.ts"],"sourcesContent":["import Cookies from 'universal-cookie';\n\n// Interface za korisnika\ninterface User {\n  username: string;\n  role: string;\n}\n\n// Kreiranje instance Cookies\nconst cookies = new Cookies();\n\n// Stanje i metode za upravljanje stanjem korisničkog računa\nconst accountStore = {\n  state: {\n    user: null as User | null,\n    receptId: null as number | null,\n    korinsikId: null as number | null,\n  },\n  getters: {\n    isLoggedIn(): boolean {\n      return !!cookies.get('authToken');\n    },\n  },\n  actions: {\n    login(user: User) {\n      accountStore.state.user = user;\n      if (accountStore.getters.isLoggedIn()) {\n        window.location.href = '/profil';\n      }\n      else {\n        window.location.href = '/login';\n      }\n    },\n    logout() {\n      cookies.remove('authToken');\n      accountStore.state.user = null;\n    },\n    setReceptId(id: number) {\n      accountStore.state.receptId = id;\n      sessionStorage.setItem('receptId', id.toString());\n    },\n    setKorinsikId(id: number) {\n      accountStore.state.korinsikId = id;\n      sessionStorage.setItem('korinsikId', id.toString());\n    },\n  },\n};\n\nexport default accountStore;"],"names":[],"mappings":";AASA,MAAM,UAAU,IAAI;AAGpB,MAAM,eAAe;AAAA,EACnB,OAAO;AAAA,IACL,MAAM;AAAA,IACN,UAAU;AAAA,IACV,YAAY;AAAA,EACd;AAAA,EACA,SAAS;AAAA,IACP,aAAsB;AACpB,aAAO,CAAC,CAAC,QAAQ,IAAI,WAAW;AAAA,IAClC;AAAA,EACF;AAAA,EACA,SAAS;AAAA,IACP,MAAM,MAAY;AAChB,mBAAa,MAAM,OAAO;AACtB,UAAA,aAAa,QAAQ,cAAc;AACrC,eAAO,SAAS,OAAO;AAAA,MAAA,OAEpB;AACH,eAAO,SAAS,OAAO;AAAA,MACzB;AAAA,IACF;AAAA,IACA,SAAS;AACP,cAAQ,OAAO,WAAW;AAC1B,mBAAa,MAAM,OAAO;AAAA,IAC5B;AAAA,IACA,YAAY,IAAY;AACtB,mBAAa,MAAM,WAAW;AAC9B,qBAAe,QAAQ,YAAY,GAAG,SAAU,CAAA;AAAA,IAClD;AAAA,IACA,cAAc,IAAY;AACxB,mBAAa,MAAM,aAAa;AAChC,qBAAe,QAAQ,cAAc,GAAG,SAAU,CAAA;AAAA,IACpD;AAAA,EACF;AACF;"}