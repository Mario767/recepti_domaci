{"version":3,"file":"index-6a6fc670.js","sources":["../../../../components/Mojirec.vue","../../../../pages/Mojirecepti/index.vue"],"sourcesContent":["<template>\n  <div class=\"card-recepti\">\n    <div v-for=\"recept in recepti\" :key=\"recept.recept_id\" class=\"card card-hover\" @click=\"goToRecept(recept)\">\n      <img :src=\"getImageUrl(recept.slika)\" alt=\"Recept slika\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">{{ recept.naziv_recepta }}</h5>\n      </div>\n      <div class=\"card-buttons\">\n        <button class=\"delete-button\" @click.stop=\"deleteRecept(recept.recept_id)\">Izbriši</button>\n        <button class=\"edit-button\" @click.stop=\"editRecept(recept.recept_id)\">Uredi</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Cookies from 'universal-cookie';\n\n\nconst cookies = new Cookies();\nexport default {\n  props: {\n    recepti: {\n      type: Array,\n      required: true\n    }\n  },\n  \n  methods: {\n    getImageUrl(slika) {\n      return 'http://127.0.0.1:8000/' + slika;\n    },\n    goToRecept(recept) {\n      let formattedNaziv = recept.naziv_recepta.replace(/\\s+/g, '_'); // Zamjenjuje sve razmake s '_'\n      this.$router.push({ path: `/News/${formattedNaziv}` });\n      accountStore.actions.setReceptId(recept.recept_id); // Dodajte ovu liniju\n    },\n    deleteRecept(receptId) {\n      const authToken = cookies.get('authToken');\n      axios.post('http://127.0.0.1:8000/api/obrisirec', {\n        recept_id: receptId,\n      }, {\n        headers: {\n          'Authorization': `Bearer ${authToken}`\n        }\n      }).then(response => {\n        console.log('Recept je uspješno izbrisan:', response);\n        this.$emit('recept-izbrisan'); // Emitujte događaj\n      }).catch(error => {\n        console.error('Došlo je do pogreške prilikom brisanja recepta:', error);\n      });\n    },\n    editRecept(receptId) {\n  // Spremite ID recepta\n  accountStore.actions.setReceptId(receptId);\n  \n  // Navigirajte na rutu /uredirecept\n  this.$router.push({ path: `/uredirecept` });\n}\n  }\n}\n</script>\n\n<style scoped>\n.card-recepti {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n}\n\n.card {\n  flex: 1 0 21%; /* Četiri kartice u jednom redu */\n  margin: 1.5%;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  transition: transform 0.3s ease;\n  max-width: calc(100% / 4 - 3%); /* Ograničava maksimalnu širinu kartice */\n}\n\n.card img {\n  width: 100%;\n  height: 200px;\n  object-fit: cover;\n}\n\n.card-body {\n  padding: 15px;\n}\n\n.card-title {\n  font-style: oblique;\n  font-weight: bold;\n  color: #FF6347; /* Tomato */\n  text-shadow: 1px 1px #ff1b3d; /* Tomato */\n  font-size: 1.3rem; /* Smanjena veličina naslova */\n \n  text-align: center;\n}\n\n.card-buttons {\n  visibility: hidden;\n  display: flex;\n  justify-content: center; /* Centriranje dugmadi */\n  \n  margin-bottom: 10px; /* Smanjen razmak ispod naslova */\n}\n\n.delete-button,\n.edit-button {\n  padding: 5px 10px;\n  margin: 0 5px; /* Smanjen razmak između dugmadi */\n  border: none;\n  border-radius: 5px;\n  background-color: #FF6347;\n  color: white;\n  cursor: pointer;\n}\n\n.delete-button:hover,\n.edit-button:hover {\n  \n  background-color: #ff1b3d;\n}\n.card:hover .card-buttons {\n  visibility: visible; /* Prikaz dugmadi kada se prelazi preko kartice */\n}\n\n.card-hover:hover {\n  transform: scale(1.05);\n  \n}\n</style>\n","<template>\n  <div id=\"app\">\n    <Mojirec :recepti=\"recepti ? recepti.data : []\" @recept-izbrisan=\"fetchData(recepti.current_page)\" />\n    <div class=\"pagination\">\n      <button class=\"pagination-button\" v-if=\"recepti && recepti.current_page > 1\" @click=\"fetchData(recepti.current_page - 1)\">Previous</button>\n      <button class=\"pagination-button\" v-if=\"recepti && recepti.last_page > recepti.current_page\" @click=\"fetchData(recepti.current_page + 1)\">Next</button>\n    </div>\n    <p v-if=\"error\">{{ error }}</p>\n  </div>\n</template>\n  \n  <script>\n  import axios from 'axios';\n  import Mojirec from '@/components/Mojirec.vue';\n  \n  // Postavljanje osnovnog URL-a za Axios unutar komponente\n  axios.defaults.baseURL = 'http://127.0.0.1:8000/'; // Promijenjen osnovni URL\n  \n  export default {\n    components: {\n      Mojirec\n    },\n    data() {\n      return {\n        recepti: null,\n        error: null\n      };\n    },\n    mounted() {\n      this.fetchData(1);\n    },\n    methods: {\n      fetchData(page) {\n      const authToken = document.cookie.replace(/(?:(?:^|.*;\\s*)authToken\\s*=\\s*([^;]*).*$)|^.*$/, \"$1\");\n      axios.get(`api/mojirecepti?page=${page}`, {\n        headers: {\n          'Authorization': `Bearer ${authToken}`\n        }\n      }).then(response => {\n        this.recepti = response.data;\n      }).catch(error => {\n        this.error = 'Došlo je do greške prilikom dohvata recepata: ' + error.message;\n      });\n    }\n    }\n  };\n  </script>\n \n\n<style scoped>\n.pagination {\n  display: flex;\n  justify-content: center;\n}\n\n.pagination-button {\n  color: white; /* Bijela boja teksta */\n  background-color: #FF6347; /* Tomato boja pozadine */\n  border: none; /* Uklanja standardni okvir dugmeta */\n  /* Dodajte ostale stilove po želji */\n  padding: 0.7rem; /* Padding u removima */\n  border-radius: 10%;\n}\n</style>\n"],"names":["_sfc_main","_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrRenderAttr","_ssrInterpolate","Mojirec"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAoBA,MAAM,UAAU,IAAI;AACpB,MAAKA,cAAU;AAAA,EACb,OAAO;AAAA,IACL,SAAS;AAAA,MACP,MAAM;AAAA,MACN,UAAU;AAAA,IACZ;AAAA,EACD;AAAA,EAED,SAAS;AAAA,IACP,YAAY,OAAO;AACjB,aAAO,2BAA2B;AAAA,IACnC;AAAA,IACD,WAAW,QAAQ;AACjB,UAAI,iBAAiB,OAAO,cAAc,QAAQ,QAAQ,GAAG;AAC7D,WAAK,QAAQ,KAAK,EAAE,MAAM,SAAS,cAAc,GAAG,CAAC;AACrD,mBAAa,QAAQ,YAAY,OAAO,SAAS;AAAA,IAClD;AAAA,IACD,aAAa,UAAU;AACrB,YAAM,YAAY,QAAQ,IAAI,WAAW;AACzC,YAAM,KAAK,uCAAuC;AAAA,QAChD,WAAW;AAAA,MACb,GAAG;AAAA,QACD,SAAS;AAAA,UACP,iBAAiB,UAAU,SAAS;AAAA,QACtC;AAAA,MACF,CAAC,EAAE,KAAK,cAAY;AAClB,gBAAQ,IAAI,gCAAgC,QAAQ;AACpD,aAAK,MAAM,iBAAiB;AAAA,MAC9B,CAAC,EAAE,MAAM,WAAS;AAChB,gBAAQ,MAAM,mDAAmD,KAAK;AAAA,MACxE,CAAC;AAAA,IACF;AAAA,IACD,WAAW,UAAU;AAEvB,mBAAa,QAAQ,YAAY,QAAQ;AAGzC,WAAK,QAAQ,KAAK,EAAE,MAAM,eAAa,CAAG;AAAA,IAC5C;AAAA,EACE;AACF;;AA5DO,QAAA,OAAAC,eAAAC,WAAA,EAAA,OAAM,kBAAc,MAAA,CAAA,CAAA,2BAAA;AACDC,gBAAA,OAAA,UAAV,WAAM;8DACVC,cAAA,OAAK,SAAA,YAAY,OAAO,KAAK,CAAA,sHAEPC,eAAA,OAAO,aAAa;;;;;;;;;;;;ACWpD,MAAM,SAAS,UAAU;AAEzB,MAAK,YAAU;AAAA,EACb,YAAY;AAAA,IACV,SAAAC;AAAAA,EACD;AAAA,EACD,OAAO;AACL,WAAO;AAAA,MACL,SAAS;AAAA,MACT,OAAO;AAAA;EAEV;AAAA,EACD,UAAU;AACR,SAAK,UAAU,CAAC;AAAA,EACjB;AAAA,EACD,SAAS;AAAA,IACP,UAAU,MAAM;AAChB,YAAM,YAAY,SAAS,OAAO,QAAQ,mDAAmD,IAAI;AACjG,YAAM,IAAI,wBAAwB,IAAI,IAAI;AAAA,QACxC,SAAS;AAAA,UACP,iBAAiB,UAAU,SAAS;AAAA,QACtC;AAAA,MACF,CAAC,EAAE,KAAK,cAAY;AAClB,aAAK,UAAU,SAAS;AAAA,MAC1B,CAAC,EAAE,MAAM,WAAS;AAChB,aAAK,QAAQ,mDAAmD,MAAM;AAAA,MACxE,CAAC;AAAA,IACH;AAAA,EACA;;;;AA3CG,QAAA,OAAAL,eAAAC,WAAA,EAAA,IAAG,SAAK,MAAA,CAAA,CAAA,mBAAA;;IACD,SAAS,MAAA,UAAU,MAAA,QAAQ,OAAI,CAAA;AAAA,IAAQ,kBAAiB,YAAA,SAAA,UAAU,MAAA,QAAQ,YAAY;AAAA;;MAEtD,MAAO,WAAI,MAAO,QAAC,eAAY,GAAA;;;;;AAC/B,MAAA,MAAA,WAAW,MAAO,QAAC,YAAY,MAAA,QAAQ,cAAY;;;;;;MAEpF,MAAK,OAAA;+CAAK,MAAK,KAAA,CAAA,MAAA;AAAA;;;;;;;;;;;;"}