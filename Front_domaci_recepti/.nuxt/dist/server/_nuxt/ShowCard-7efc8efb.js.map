{"version":3,"file":"ShowCard-7efc8efb.js","sources":["../../../../components/ShowCard.vue"],"sourcesContent":["<template>\n  <div class=\"recept-container\">\n    <h1 class=\"naslov\">{{ recept.naziv_recepta }}</h1>\n\n    <hr style=\"height: 1px; color: black; width: 100%\">\n\n    <div class=\"slika-container\">\n      <img :src=\"'http://127.0.0.1:8000/' + recept.slika\" alt=\"Slika recepta\">\n    </div>\n    <h2 class=\"opis\">{{ recept.opis }}</h2>\n\n    <div class=\"ocjene\">\n      <p>Prosječna ocjena:\n        <span v-for=\"n in 5\" :key=\"n\" class=\"star\">\n          <i v-if=\"n <= recept.prosjecnaOcjena\" class=\"fas fa-star\"></i>\n          <i v-else class=\"far fa-star\"></i>\n        </span>\n        &nbsp;<span>{{ recept.prosjecnaOcjena.toFixed(1) }}</span>\n      </p>\n      <div v-if=\"accountStore.getters.isLoggedIn()\">\n        <p>Ocijenite recept:\n          <div class=\"star-rating\">\n            <span v-for=\"(star, index) in stars\" :key=\"index\" class=\"star\"\n                  @mouseover=\"setRating(index + 1)\"\n                  @mouseout=\"setRating(rating)\"\n                  @click=\"submitRating(index + 1)\">\n              <i :class=\"star\" class=\"star-mar\"></i>\n            </span>\n          </div>\n        </p>\n      </div>\n    </div>\n    <div class=\"pisanjeKomentara\" v-if=\"accountStore.getters.isLoggedIn()\">\n      <form @submit.prevent=\"submitKomentar\">\n        <textarea class=\"komentarField\" v-model=\"noviKomentar\" placeholder=\"Unesite svoj komentar ovdje\"></textarea>\n        <br>\n        <button type=\"submit\" class=\"komentarSend\">Pošalji komentar</button>\n      </form>\n    </div>\n    <div v-for=\"komentar in recept.komentari\" :key=\"komentar.datum_Komentara\" class=\"komentar\">\n      <p class=\"komKorIme\">{{ komentar.korisnicko_ime }}</p>\n      <p>{{ komentar.sadržaj }}</p>\n      <p>{{ komentar.datum_Komentara }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport '@fortawesome/fontawesome-free/css/all.css'\nimport axios from 'axios';\nimport accountStore from '@/composables/accountStore';\nimport Cookies from 'universal-cookie';\n\nconst cookies = new Cookies();\n\nexport default {\n  props: {\n    recept: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      noviKomentar: '',\n      ocjena: 0,\n      stars: Array(5).fill('far fa-star'),\n      rating: 0\n    };\n  },\n  methods: {\n    setRating(rating) {\n      this.rating = rating;\n      this.stars = this.stars.map((star, index) => {\n        if (index < rating) {\n          return 'fas fa-star';\n        } else if (index < rating) {\n          return 'fas fa-star-half-alt';\n        } else {\n          return 'far fa-star';\n        }\n      });\n    },\n    submitRating(rating) {\n      const authToken = cookies.get('authToken');\n      axios.post('http://127.0.0.1:8000/api/ocjena', {\n        recept_id: this.recept.recept_id,\n        ocjena: rating\n      }, {\n        headers: {\n          'Authorization': `Bearer ${authToken}`\n        }\n      })\n      .then(() => {\n        this.ocjena = rating;\n        alert('Uspješno dodana ocjena!');\n      })\n      .catch(error => {\n        console.error(error);\n      });\n    },\n    submitKomentar() {\n      const authToken = cookies.get('authToken');\n      axios.post('http://127.0.0.1:8000/api/komentari', {\n        idrecepta: this.recept.recept_id,\n        sadržaj: this.noviKomentar\n      }, {\n        headers: {\n          'Authorization': `Bearer ${authToken}`\n        }\n      })\n      .then(() => {\n        this.noviKomentar = '';\n        alert('Uspješno dodan komentar!');\n      })\n      .catch(error => {\n        console.error(error);\n      });\n    }\n  }\n};\n</script>\n\n\n<style scoped>\n.recept-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\n\n.slika-container {\n  display: flex;\n  max-width: 800px; /* Ovo je veličina okvira u kojem će se slika prikazivati */\n  max-height: 800px;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  overflow: hidden; /* Ovo će osigurati da se slika ne prelijeva iz okvira */\n}\n\n.slika-container img {\n  width: 100%; /* Slika će se prilagoditi veličini okvira */\n  height: auto;\n  object-fit: cover;\n}\n\n.recept-container .naslov {\n  font-size: 2.5em; /* Povećajte veličinu naslova */\n  text-transform: uppercase;\n  font-style:oblique;\n  font-weight: bold;\n  color: #FF6347; /* Tomato */\n  text-shadow: 1px 1px #ff1b3d; /* Tomato */\n}\n\n.recept-container .opis {\n  font-size: 1.3em; /* Povećajte veličinu opisa */\n}\n\n.recept-container p {\n  width: 100%;\n  max-width: 600px; /* Prilagodite ovo prema potrebi */\n}\n\n.komentar {\n  border: 1px solid #ccc;\n  padding: 10px;\n  margin: 10px 0;\n  border-radius: 15px; /* Komentar u oblaku */\n}\n\n.ocjene{\n  padding: 20px;\n}\n\n.star {\n  color: gold;\n}\n\n.star-mar{\n  margin-right: 1px;\n  margin-left: 1px;\n}\n\n.opis{\n  padding: 30px;\n  text-align: justify;\n  max-width: 1000px;\n  font-weight: lighter;\n  font-style: oblique;\n}\n\n.komKorIme{\n  font-size: large;\n  font-weight: bolder;\n}\n\n.pisanjeKomentara{\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  width: 100%;\n}\n.komentarField{\n  height: 100px;\n  width: 600px;\n  border: black dashed 1px;\n  border-radius: 1rem;\n  padding: 5px;\n}\n\n.komentarSend{\n  background-color: #FF6347;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  border-radius: 1rem;\n  cursor: pointer;\n  margin-top: 3px;\n}\n\n</style>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrInterpolate","_ssrRenderList","__unimport_unref_","__unimport_accountStore"],"mappings":";;;;;;;;AAqDA,MAAM,UAAU,IAAI;AAEpB,MAAK,YAAU;AAAA,EACb,OAAO;AAAA,IACL,QAAQ;AAAA,MACN,MAAM;AAAA,MACN,UAAU;AAAA,IACZ;AAAA,EACD;AAAA,EACD,OAAO;AACL,WAAO;AAAA,MACL,cAAc;AAAA,MACd,QAAQ;AAAA,MACR,OAAO,MAAM,CAAC,EAAE,KAAK,aAAa;AAAA,MAClC,QAAQ;AAAA;EAEX;AAAA,EACD,SAAS;AAAA,IACP,UAAU,QAAQ;AAChB,WAAK,SAAS;AACd,WAAK,QAAQ,KAAK,MAAM,IAAI,CAAC,MAAM,UAAU;AAC3C,YAAI,QAAQ,QAAQ;AAClB,iBAAO;AAAA,QACT,WAAW,QAAQ,QAAQ;AACzB,iBAAO;AAAA,eACF;AACL,iBAAO;AAAA,QACT;AAAA,MACF,CAAC;AAAA,IACF;AAAA,IACD,aAAa,QAAQ;AACnB,YAAM,YAAY,QAAQ,IAAI,WAAW;AACzC,YAAM,KAAK,oCAAoC;AAAA,QAC7C,WAAW,KAAK,OAAO;AAAA,QACvB,QAAQ;AAAA,MACV,GAAG;AAAA,QACD,SAAS;AAAA,UACP,iBAAiB,UAAU,SAAS;AAAA,QACtC;AAAA,OACD,EACA,KAAK,MAAM;AACV,aAAK,SAAS;AACd,cAAM,yBAAyB;AAAA,OAChC,EACA,MAAM,WAAS;AACd,gBAAQ,MAAM,KAAK;AAAA,MACrB,CAAC;AAAA,IACF;AAAA,IACD,iBAAiB;AACf,YAAM,YAAY,QAAQ,IAAI,WAAW;AACzC,YAAM,KAAK,uCAAuC;AAAA,QAChD,WAAW,KAAK,OAAO;AAAA,QACvB,SAAS,KAAK;AAAA,MAChB,GAAG;AAAA,QACD,SAAS;AAAA,UACP,iBAAiB,UAAU,SAAS;AAAA,QACtC;AAAA,OACD,EACA,KAAK,MAAM;AACV,aAAK,eAAe;AACpB,cAAM,0BAA0B;AAAA,OACjC,EACA,MAAM,WAAS;AACd,gBAAQ,MAAM,KAAK;AAAA,MACrB,CAAC;AAAA,IACH;AAAA,EACF;AACF;;eAvHOA,eAAAC,WAAA,EAAA,OAAM,mBAAkB,GAAA,MAAA,CAAA,wDACLC,eAAA,OAAA,OAAO,aAAa,mCAEtC,EAA8C,UAAA,OAAA,SAAA,SAAA,SAAA,OAAA,CAAA,qFAG1C,OAAG,2BAA6B,OAAM,OAAC,KAAK,gFAEhCA,eAAA,OAAA,OAAO,IAAI;AAITC,gBAAA,IAAL,MAAC;;QACH,KAAK,OAAM,OAAC,iBAAe;;;;;;;0DAGvB,OAAM,OAAC,gBAAgB,QAAO,CAAA,CAAA,CAAA,aAAA;OAEpC,kBAAA,OAAA,KAAA,eAAAC,MAAAC,YAAA,GAAa,QAAQ,cAAU;;kBAGN,MAAK,OAAA,CAArB,MAAM,UAAK;4EAIZ,MAAI,UAAA,CAAA,CAAA,+BAAA;AAAA;;;;;;OAMW,kBAAA,OAAA,KAAA,eAAAD,MAAAC,YAAA,GAAa,QAAQ,cAAU;0LAEtB,MAAY,YAAA,CAAA,kIAAA;AAAA;;;;gBAKjC,OAAM,OAAC,WAAS,CAA5B,aAAQ;wFACMH,eAAA,SAAS,cAAc,2BACzCA,eAAA,SAAS,OAAO,2BAChBA,eAAA,SAAS,eAAe;;;;;;;;;;;"}