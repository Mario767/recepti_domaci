{"version":3,"file":"index-5d3c09c1.js","sources":["../../../../pages/Profil/index.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div v-if=\"isLoggedIn\" class=\"container\">\n      <h1 class=\"title\">Domaći recepti</h1>\n      <p>Ime: {{ korisnicko_ime }}</p>\n      <p>Email: {{ email }}</p>\n      <div class=\"button-row\">\n        <v-spacer></v-spacer>\n        <router-link style=\"margin-right: 10px\" to=\"/dodajrecept\">\n          <button class=\"button\">Dodaj recept</button>\n        </router-link>\n        <v-spacer></v-spacer>\n        <router-link style=\"margin-right: 10px\" to=\"/mojirecepti\">\n          <button class=\"button\">Prikaži recepte</button>\n        </router-link>\n        <v-spacer></v-spacer>\n      </div>\n      <div class=\"logout-row\">\n        <button class=\"logout-button\" @click.prevent=\"odjavi\">Odjavi se</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { nextTick } from 'vue';\nimport accountStore from '@/composables/accountStore'; \nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      korisnicko_ime: '',\n      email: '',\n      isLoggedIn: false\n    }\n  },\n  async created() {\n    this.isLoggedIn = accountStore.getters.isLoggedIn();\n    if (this.isLoggedIn) {\n      // Dohvati korisničko ime i e-mail iz kolačića\n      this.korisnicko_ime = document.cookie.replace(/(?:(?:^|.*;\\s*)username\\s*=\\s*([^;]*).*$)|^.*$/, \"$1\");\n      this.email = document.cookie.replace(/(?:(?:^|.*;\\s*)email\\s*=\\s*([^;]*).*$)|^.*$/, \"$1\");\n    }\n  },\n  methods: {\n    async odjavi() {\n      // Dohvati token iz kolačića\n      const authToken = document.cookie.replace(/(?:(?:^|.*;\\s*)authToken\\s*=\\s*([^;]*).*$)|^.*$/, \"$1\");\n      \n      // Provjeri je li korisnik prijavljen\n      if (accountStore.getters.isLoggedIn()) {\n        // Odjavi korisnika na backendu\n        axios.post('http://localhost:8000/api/odjavi', {}, {\n          headers: {\n            'Authorization': `Bearer ${authToken}`\n          }\n        })\n        .then(() => {\n          // Uspješna odjava na backendu, sada obriši kolačić s tokenom na frontendu\n          document.cookie = \"authToken=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/\";\n          // Obriši korisničko ime i e-mail iz kolačića\n          document.cookie = \"username=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/\";\n          document.cookie = \"email=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/\";\n          // Preusmjeri korisnika na stranicu za prijavu\n          window.location.href = '/login';\n        })\n        .catch(error => {\n          console.error(error);\n          // Prikazati poruku o grešci\n        });\n      }\n    }\n  }\n}\n</script>\n\n\n<style scoped>\nbody {\n  background-color: #FFA07A;\n}\n\n#app {\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.container {\n  background-color: white;\n  padding: 20px;\n  border-radius: 10px;\n  width: 80%;\n  max-width: 500px;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);\n}\n\n.title {\n  text-align: center;\n  margin-bottom: 20px;\n  font-size: 1.5em;\n}\n\n.button-row {\n  display: flex;\n  width: 100%;\n\n}\n\n.button {\n  padding: 10px;\n  margin: 10px;\n  background-color: #FFA07A;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1em;\n  width: 100%; /* Postavite širinu dugmadi na 45% da budu bliže jedno drugom */\n}\n\n.button:hover{\n  box-shadow: dimgray 0 0 4px 0;\n}\n\n.logout-row {\n  display: flex;\n  justify-content: center; /* Centrirajte dugme za odjavu */\n}\n\n.logout-button {\n  padding: 20px; /* Povećajte veličinu dugmeta za odjavu */\n  background-color: #FFA07A;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  font-size: 1em;\n  width: 100%; /* Postavite širinu dugmeta za odjavu na 100% */\n}\n\n.logout-button:hover{\n  box-shadow: dimgray 0 0 4px 0;\n}\n</style>\n"],"names":["_ssrRenderAttrs","_mergeProps","_push","_parent","_createVNode"],"mappings":";;;;;;;;;;;;;;;;;;;;;AA6BA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,gBAAgB;AAAA,MAChB,OAAO;AAAA,MACP,YAAY;AAAA,IACd;AAAA,EACD;AAAA,EACD,MAAM,UAAU;AACd,SAAK,aAAa,aAAa,QAAQ,WAAU;AACjD,QAAI,KAAK,YAAY;AAEnB,WAAK,iBAAiB,SAAS,OAAO,QAAQ,kDAAkD,IAAI;AACpG,WAAK,QAAQ,SAAS,OAAO,QAAQ,+CAA+C,IAAI;AAAA,IAC1F;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,MAAM,SAAS;AAEb,YAAM,YAAY,SAAS,OAAO,QAAQ,mDAAmD,IAAI;AAGjG,UAAI,aAAa,QAAQ,cAAc;AAErC,cAAM,KAAK,oCAAoC,IAAI;AAAA,UACjD,SAAS;AAAA,YACP,iBAAiB,UAAU,SAAS;AAAA,UACtC;AAAA,SACD,EACA,KAAK,MAAM;AAEV,mBAAS,SAAS;AAElB,mBAAS,SAAS;AAClB,mBAAS,SAAS;AAElB,iBAAO,SAAS,OAAO;AAAA,SACxB,EACA,MAAM,WAAS;AACd,kBAAQ,MAAM,KAAK;AAAA,QAErB,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AACF;;;;AAzEO,QAAA,OAAAA,eAAAC,WAAA,EAAA,IAAG,SAAK,MAAA,CAAA,CAAA,mBAAA;MACA,MAAU,YAAA;gJAER,MAAc,cAAA,iDACZ,MAAK,KAAA;;;MAGH,OAAA,EAA0B,gBAAA,OAAA;AAAA,MAAC,IAAG;AAAA;uBAA3C,CAEc,GAAAC,QAAAC,UAAA,aAAA;;;;;YADZC,YAA4C,UAApC,EAAA,OAAM,SAAQ,GAAC,cAAY;AAAA;;;;;;;MAGxB,OAAA,EAA0B,gBAAA,OAAA;AAAA,MAAC,IAAG;AAAA;uBAA3C,CAEc,GAAAF,QAAAC,UAAA,aAAA;;;;;YADZC,YAA+C,UAAvC,EAAA,OAAM,SAAQ,GAAC,iBAAe;AAAA;;;;;;;;;;;;;;;;;;;"}