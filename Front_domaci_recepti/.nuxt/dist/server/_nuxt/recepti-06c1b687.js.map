{"version":3,"file":"recepti-06c1b687.js","sources":["../../../../components/Adminrec.vue","../../../../pages/Admin/recepti.vue"],"sourcesContent":["<template>\r\n    <div class=\"card-recepti\">\r\n      <div v-for=\"recept in recepti\" :key=\"recept.recept_id\" class=\"card card-hover\" @click=\"goToRecept(recept)\">\r\n        <img :src=\"getImageUrl(recept.slika)\" alt=\"Recept slika\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">{{ recept.naziv_recepta }}</h5>\r\n        </div>\r\n        <div class=\"card-buttons\">\r\n          <button class=\"delete-button\" @click.stop=\"deleteRecept(recept.recept_id)\">Izbriši</button>\r\n          <button class=\"edit-button\" @click.stop=\"editRecept(recept.recept_id)\">Uredi</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  import Cookies from 'universal-cookie';\r\n  \r\n  \r\n  const cookies = new Cookies();\r\n  export default {\r\n    props: {\r\n      recepti: {\r\n        type: Array,\r\n        required: true\r\n      }\r\n    },\r\n    \r\n    methods: {\r\n      getImageUrl(slika) {\r\n        return 'http://127.0.0.1:8000/' + slika;\r\n      },\r\n      goToRecept(recept) {\r\n        let formattedNaziv = recept.naziv_recepta.replace(/\\s+/g, '_'); // Zamjenjuje sve razmake s '_'\r\n        this.$router.push({ path: `/Recepti/${formattedNaziv}` });\r\n        accountStore.actions.setReceptId(recept.recept_id); // Dodajte ovu liniju\r\n      },\r\n      deleteRecept(receptId) {\r\n        const authToken = cookies.get('authToken');\r\n        axios.post('http://127.0.0.1:8000/api/obrisirec', {\r\n          recept_id: receptId,\r\n        }, {\r\n          headers: {\r\n            'Authorization': `Bearer ${authToken}`\r\n          }\r\n        }).then(response => {\r\n          console.log('Recept je uspješno izbrisan:', response);\r\n          this.$emit('recept-izbrisan'); // Emitujte događaj\r\n        }).catch(error => {\r\n          console.error('Došlo je do pogreške prilikom brisanja recepta:', error);\r\n        });\r\n      },\r\n      editRecept(receptId) {\r\n    // Spremite ID recepta\r\n    accountStore.actions.setReceptId(receptId);\r\n    \r\n    // Navigirajte na rutu /uredirecept\r\n    this.$router.push({ path: `/uredirecept` });\r\n  }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .card-recepti {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n  }\r\n  \r\n  .card {\r\n    flex: 1 0 21%; /* Četiri kartice u jednom redu */\r\n    margin: 1.5%;\r\n    border: 1px solid #ccc;\r\n    border-radius: 5px;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n    transition: transform 0.3s ease;\r\n    max-width: calc(100% / 4 - 3%); /* Ograničava maksimalnu širinu kartice */\r\n  }\r\n  \r\n  .card img {\r\n    width: 100%;\r\n    height: 200px;\r\n    object-fit: cover;\r\n  }\r\n  \r\n  .card-body {\r\n    padding: 15px;\r\n  }\r\n  \r\n  .card-title {\r\n    font-style: oblique;\r\n    font-weight: bold;\r\n    color: #FF6347; /* Tomato */\r\n    text-shadow: 1px 1px #ff1b3d; /* Tomato */\r\n    font-size: 1.3rem; /* Smanjena veličina naslova */\r\n   \r\n    text-align: center;\r\n  }\r\n  \r\n  .card-buttons {\r\n    visibility: hidden;\r\n    display: flex;\r\n    justify-content: center; /* Centriranje dugmadi */\r\n    \r\n    margin-bottom: 10px; /* Smanjen razmak ispod naslova */\r\n  }\r\n  \r\n  .delete-button,\r\n  .edit-button {\r\n    padding: 5px 10px;\r\n    margin: 0 5px; /* Smanjen razmak između dugmadi */\r\n    border: none;\r\n    border-radius: 5px;\r\n    background-color: #FF6347;\r\n    color: white;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  .delete-button:hover,\r\n  .edit-button:hover {\r\n    \r\n    background-color: #ff1b3d;\r\n  }\r\n  .card:hover .card-buttons {\r\n    visibility: visible; /* Prikaz dugmadi kada se prelazi preko kartice */\r\n  }\r\n  \r\n  .card-hover:hover {\r\n    transform: scale(1.05);\r\n    \r\n  }\r\n  </style>\r\n  ","<template>\n  <div id=\"app\">\n    <Adminrec :recepti=\"recepti ? recepti.data : []\" @recept-izbrisan=\"fetchData(recepti.current_page)\" />\n    <div class=\"pagination\">\n      <button class=\"pagination-button\" v-if=\"recepti && recepti.current_page > 1\" @click=\"fetchData(recepti.current_page - 1)\">Previous</button>\n      <button class=\"pagination-button\" v-if=\"recepti && recepti.last_page > recepti.current_page\" @click=\"fetchData(recepti.current_page + 1)\">Next</button>\n    </div>\n    <p v-if=\"error\">{{ error }}</p>\n    <p v-else-if=\"recepti && !recepti.data.length\">Nema kreiranih recepata.</p> <!-- Dodano -->\n  </div>\n</template>\n    \n    <script>\n    import axios from 'axios';\n    import Adminrec from '@/components/Adminrec.vue';\n    import accountStore from '@/composables/accountStore'; \n    definePageMeta\n    ({\n    layout\n      : 'admin'\n      })\n    \n    // Postavljanje osnovnog URL-a za Axios unutar komponente\n    axios.defaults.baseURL = 'http://127.0.0.1:8000/'; // Promijenjen osnovni URL\n    \n    export default {\n      components: {\n        Adminrec\n      },\n      data() {\n        return {\n          recepti: null,\n          error: null\n        };\n      },\n      mounted() {\n        this.fetchData(1);\n      },\n      methods: {\n        fetchData(page) {\n        const authToken = document.cookie.replace(/(?:(?:^|.*;\\s*)authToken\\s*=\\s*([^;]*).*$)|^.*$/, \"$1\");\n        let korisnikId = accountStore.state.korinsikId; // Dodajte ovu liniju\n        if (typeof sessionStorage !== 'undefined') {\n          korisnikId = korisnikId || sessionStorage.getItem('korinsikId'); // Dodajte ovu liniju\n        }\n       \n      \n        axios.get(`http://127.0.0.1:8000/api/receptikorisnika/${korisnikId}?page=${page}`, { // Dodajte korisnik_id u URL\n          headers: {\n            'Authorization': `Bearer ${authToken}`\n          }\n          })\n\n      .then(response => {\n          this.recepti = response.data;\n        }).catch(error => {\n          this.error = 'Došlo je do greške prilikom dohvata recepata: ' + error.message;\n        });\n      }\n      }\n    };\n    </script>\n   \n  \n  <style scoped>\n  .pagination {\n    display: flex;\n    justify-content: center;\n  }\n  \n  .pagination-button {\n    color: white; /* Bijela boja teksta */\n    background-color: #FF6347; /* Tomato boja pozadine */\n    border: none; /* Uklanja standardni okvir dugmeta */\n    /* Dodajte ostale stilove po želji */\n    padding: 0.7rem; /* Padding u removima */\n    border-radius: 10%;\n  }\n  </style>\n"],"names":["_sfc_main","_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrRenderAttr","_ssrInterpolate","Adminrec"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAoBE,MAAM,UAAU,IAAI;AACpB,MAAKA,cAAU;AAAA,EACb,OAAO;AAAA,IACL,SAAS;AAAA,MACP,MAAM;AAAA,MACN,UAAU;AAAA,IACZ;AAAA,EACD;AAAA,EAED,SAAS;AAAA,IACP,YAAY,OAAO;AACjB,aAAO,2BAA2B;AAAA,IACnC;AAAA,IACD,WAAW,QAAQ;AACjB,UAAI,iBAAiB,OAAO,cAAc,QAAQ,QAAQ,GAAG;AAC7D,WAAK,QAAQ,KAAK,EAAE,MAAM,YAAY,cAAc,GAAG,CAAC;AACxD,mBAAa,QAAQ,YAAY,OAAO,SAAS;AAAA,IAClD;AAAA,IACD,aAAa,UAAU;AACrB,YAAM,YAAY,QAAQ,IAAI,WAAW;AACzC,YAAM,KAAK,uCAAuC;AAAA,QAChD,WAAW;AAAA,MACb,GAAG;AAAA,QACD,SAAS;AAAA,UACP,iBAAiB,UAAU,SAAS;AAAA,QACtC;AAAA,MACF,CAAC,EAAE,KAAK,cAAY;AAClB,gBAAQ,IAAI,gCAAgC,QAAQ;AACpD,aAAK,MAAM,iBAAiB;AAAA,MAC9B,CAAC,EAAE,MAAM,WAAS;AAChB,gBAAQ,MAAM,mDAAmD,KAAK;AAAA,MACxE,CAAC;AAAA,IACF;AAAA,IACD,WAAW,UAAU;AAEvB,mBAAa,QAAQ,YAAY,QAAQ;AAGzC,WAAK,QAAQ,KAAK,EAAE,MAAM,eAAa,CAAG;AAAA,IAC5C;AAAA,EACE;AACF;;AA5DO,QAAA,OAAAC,eAAAC,WAAA,EAAA,OAAM,kBAAc,MAAA,CAAA,CAAA,2BAAA;AACDC,gBAAA,OAAA,UAAV,WAAM;8DACVC,cAAA,OAAK,SAAA,YAAY,OAAO,KAAK,CAAA,sHAEPC,eAAA,OAAO,aAAa;;;;;;;;;;;;ACkBpD,MAAM,SAAS,UAAU;AAEzB,MAAK,YAAU;AAAA,EACb,YAAY;AAAA,IACV,UAAAC;AAAAA,EACD;AAAA,EACD,OAAO;AACL,WAAO;AAAA,MACL,SAAS;AAAA,MACT,OAAO;AAAA;EAEV;AAAA,EACD,UAAU;AACR,SAAK,UAAU,CAAC;AAAA,EACjB;AAAA,EACD,SAAS;AAAA,IACP,UAAU,MAAM;AAChB,YAAM,YAAY,SAAS,OAAO,QAAQ,mDAAmD,IAAI;AACjG,UAAI,aAAa,aAAa,MAAM;AACpC,UAAI,OAAO,mBAAmB,aAAa;AACzC,qBAAa,cAAc,eAAe,QAAQ,YAAY;AAAA,MAChE;AAGA,YAAM,IAAI,8CAA8C,UAAU,SAAS,IAAI,IAAI;AAAA;AAAA,QACjF,SAAS;AAAA,UACP,iBAAiB,UAAU,SAAS;AAAA,QACtC;AAAA,OACC,EAEJ,KAAK,cAAY;AACd,aAAK,UAAU,SAAS;AAAA,MAC1B,CAAC,EAAE,MAAM,WAAS;AAChB,aAAK,QAAQ,mDAAmD,MAAM;AAAA,MACxE,CAAC;AAAA,IACH;AAAA,EACA;;;;AA1DC,QAAA,OAAAL,eAAAC,WAAA,EAAA,IAAG,SAAK,MAAA,CAAA,CAAA,mBAAA;;IACA,SAAS,MAAA,UAAU,MAAA,QAAQ,OAAI,CAAA;AAAA,IAAQ,kBAAiB,YAAA,SAAA,UAAU,MAAA,QAAQ,YAAY;AAAA;;MAEvD,MAAO,WAAI,MAAO,QAAC,eAAY,GAAA;;;;;AAC/B,MAAA,MAAA,WAAW,MAAO,QAAC,YAAY,MAAA,QAAQ,cAAY;;;;;;MAEpF,MAAK,OAAA;+CAAK,MAAK,KAAA,CAAA,MAAA;AAAA,EACV,WAAA,MAAA,WAAY,CAAA,MAAA,QAAQ,KAAK,QAAM;;;;;;;;;;;;;;"}